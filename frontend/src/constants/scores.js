export const getScore = (testName, gender, record) => {
  const eventData = scoreTable[testName];
  if (!eventData) return 0;

  const { higherIsBetter, [gender]: records } = eventData;
  if (!records) return 0;

  if (record === "" || record === null || isNaN(record) || record === "0")
    return 0;

  const recordValue = Number(record);

  const threshold = records.find((item) => item.score === 76)?.record;
  if (threshold === undefined) return 0;

  if (higherIsBetter) {
    if (recordValue < threshold) return 75;
    const matched = records.find((item) => recordValue >= item.record);
    return matched ? matched.score : 0;
  } else {
    if (recordValue > threshold) return 75;
    const matched = records.find((item) => recordValue <= item.record);
    return matched ? matched.score : 0;
  }
};

const scoreTable = {
  pfJump: {
    higherIsBetter: true,
    male: [
      { record: 300, score: 100 },
      { record: 297, score: 99 },
      { record: 294, score: 98 },
      { record: 291, score: 97 },
      { record: 288, score: 96 },
      { record: 285, score: 95 },
      { record: 282, score: 94 },
      { record: 279, score: 93 },
      { record: 276, score: 92 },
      { record: 273, score: 91 },
      { record: 270, score: 90 },
      { record: 267, score: 89 },
      { record: 264, score: 88 },
      { record: 261, score: 87 },
      { record: 258, score: 86 },
      { record: 255, score: 85 },
      { record: 252, score: 84 },
      { record: 249, score: 83 },
      { record: 246, score: 82 },
      { record: 243, score: 81 },
      { record: 240, score: 80 },
      { record: 237, score: 79 },
      { record: 234, score: 78 },
      { record: 231, score: 77 },
      { record: 228, score: 76 },
      { record: 228, score: 75 },
    ],
    female: [
      { record: 250, score: 100 },
      { record: 247, score: 99 },
      { record: 244, score: 98 },
      { record: 241, score: 97 },
      { record: 238, score: 96 },
      { record: 235, score: 95 },
      { record: 232, score: 94 },
      { record: 229, score: 93 },
      { record: 226, score: 92 },
      { record: 223, score: 91 },
      { record: 220, score: 90 },
      { record: 217, score: 89 },
      { record: 214, score: 88 },
      { record: 211, score: 87 },
      { record: 208, score: 86 },
      { record: 205, score: 85 },
      { record: 202, score: 84 },
      { record: 199, score: 83 },
      { record: 196, score: 82 },
      { record: 193, score: 81 },
      { record: 190, score: 80 },
      { record: 187, score: 79 },
      { record: 184, score: 78 },
      { record: 181, score: 77 },
      { record: 178, score: 76 },
      { record: 178, score: 75 },
    ],
  },
  pfSitup: {
    higherIsBetter: true,
    male: [
      { record: 77, score: 100 },
      { record: 76, score: 99 },
      { record: 75, score: 98 },
      { record: 74, score: 97 },
      { record: 73, score: 96 },
      { record: 72, score: 95 },
      { record: 71, score: 94 },
      { record: 70, score: 93 },
      { record: 69, score: 92 },
      { record: 68, score: 91 },
      { record: 67, score: 90 },
      { record: 67, score: 90 },
      { record: 66, score: 89 },
      { record: 65, score: 88 },
      { record: 64, score: 87 },
      { record: 63, score: 86 },
      { record: 62, score: 85 },
      { record: 61, score: 84 },
      { record: 60, score: 83 },
      { record: 59, score: 82 },
      { record: 58, score: 81 },
      { record: 57, score: 80 },
      { record: 56, score: 79 },
      { record: 55, score: 78 },
      { record: 54, score: 77 },
      { record: 53, score: 76 },
      { record: 53, score: 75 },
    ],
    female: [
      { record: 72, score: 100 },
      { record: 70, score: 99 },
      { record: 68, score: 98 },
      { record: 66, score: 97 },
      { record: 64, score: 96 },
      { record: 62, score: 95 },
      { record: 60, score: 94 },
      { record: 58, score: 93 },
      { record: 56, score: 92 },
      { record: 54, score: 91 },
      { record: 52, score: 90 },
      { record: 50, score: 89 },
      { record: 48, score: 88 },
      { record: 46, score: 87 },
      { record: 44, score: 86 },
      { record: 42, score: 85 },
      { record: 40, score: 84 },
      { record: 38, score: 83 },
      { record: 36, score: 82 },
      { record: 34, score: 81 },
      { record: 32, score: 80 },
      { record: 30, score: 79 },
      { record: 28, score: 78 },
      { record: 26, score: 77 },
      { record: 24, score: 76 },
      { record: 24, score: 75 },
    ],
  },
  pfZrun: {
    higherIsBetter: false,
    male: [
      { record: 13.99, score: 100 },
      { record: 14.09, score: 99 },
      { record: 14.19, score: 98 },
      { record: 14.29, score: 97 },
      { record: 14.39, score: 96 },
      { record: 14.49, score: 95 },
      { record: 14.59, score: 94 },
      { record: 14.69, score: 93 },
      { record: 14.79, score: 92 },
      { record: 14.89, score: 91 },
      { record: 14.99, score: 90 },
      { record: 15.09, score: 89 },
      { record: 15.19, score: 88 },
      { record: 15.29, score: 87 },
      { record: 15.39, score: 86 },
      { record: 15.49, score: 85 },
      { record: 15.59, score: 84 },
      { record: 15.69, score: 83 },
      { record: 15.79, score: 82 },
      { record: 15.89, score: 81 },
      { record: 15.99, score: 80 },
      { record: 16.09, score: 79 },
      { record: 16.19, score: 78 },
      { record: 16.29, score: 77 },
      { record: 16.39, score: 76 },
      { record: 16.39, score: 75 },
    ],
    female: [
      { record: 15.39, score: 100 },
      { record: 15.49, score: 99 },
      { record: 15.59, score: 98 },
      { record: 15.69, score: 97 },
      { record: 15.79, score: 96 },
      { record: 15.89, score: 95 },
      { record: 15.99, score: 94 },
      { record: 16.09, score: 93 },
      { record: 16.19, score: 92 },
      { record: 16.29, score: 91 },
      { record: 16.39, score: 90 },
      { record: 16.49, score: 89 },
      { record: 16.59, score: 88 },
      { record: 16.69, score: 87 },
      { record: 16.79, score: 86 },
      { record: 16.89, score: 85 },
      { record: 16.99, score: 84 },
      { record: 17.09, score: 83 },
      { record: 17.19, score: 82 },
      { record: 17.29, score: 81 },
      { record: 17.39, score: 80 },
      { record: 17.49, score: 79 },
      { record: 17.59, score: 78 },
      { record: 17.69, score: 77 },
      { record: 17.79, score: 76 },
      { record: 17.79, score: 75 },
    ],
  },
  pfMedicine: {
    higherIsBetter: true,
    male: [
      { record: 12, score: 100 },
      { record: 11.7, score: 99 },
      { record: 11.4, score: 98 },
      { record: 11.1, score: 97 },
      { record: 10.8, score: 96 },
      { record: 10.5, score: 95 },
      { record: 10.2, score: 94 },
      { record: 9.9, score: 93 },
      { record: 9.6, score: 92 },
      { record: 9.3, score: 91 },
      { record: 9, score: 90 },
      { record: 8.7, score: 89 },
      { record: 8.4, score: 88 },
      { record: 8.1, score: 87 },
      { record: 7.8, score: 86 },
      { record: 7.5, score: 85 },
      { record: 7.2, score: 84 },
      { record: 6.9, score: 83 },
      { record: 6.6, score: 82 },
      { record: 6.3, score: 81 },
      { record: 6.0, score: 80 },
      { record: 5.7, score: 79 },
      { record: 5.4, score: 78 },
      { record: 5.1, score: 77 },
      { record: 4.8, score: 76 },
      { record: 4.8, score: 75 },
    ],
    female: [
      { record: 10, score: 100 },
      { record: 9.7, score: 99 },
      { record: 9.4, score: 98 },
      { record: 9.1, score: 97 },
      { record: 8.8, score: 96 },
      { record: 8.5, score: 95 },
      { record: 8.2, score: 94 },
      { record: 7.9, score: 93 },
      { record: 7.6, score: 92 },
      { record: 7.3, score: 91 },
      { record: 7, score: 90 },
      { record: 6.7, score: 89 },
      { record: 6.4, score: 88 },
      { record: 6.1, score: 87 },
      { record: 5.8, score: 86 },
      { record: 5.5, score: 85 },
      { record: 5.2, score: 84 },
      { record: 4.9, score: 83 },
      { record: 4.6, score: 82 },
      { record: 4.3, score: 81 },
      { record: 4.0, score: 80 },
      { record: 3.7, score: 79 },
      { record: 3.4, score: 78 },
      { record: 3.1, score: 77 },
      { record: 2.8, score: 76 },
      { record: 2.8, score: 75 },
    ],
  },
  pfSprint100: {
    higherIsBetter: false,
    male: [
      { record: 11.5, score: 100 },
      { record: 11.6, score: 99 },
      { record: 11.7, score: 98 },
      { record: 11.8, score: 97 },
      { record: 11.9, score: 96 },
      { record: 12.0, score: 95 },
      { record: 12.1, score: 94 },
      { record: 12.2, score: 93 },
      { record: 12.3, score: 92 },
      { record: 12.4, score: 91 },
      { record: 12.5, score: 90 },
      { record: 12.6, score: 89 },
      { record: 12.7, score: 88 },
      { record: 12.8, score: 87 },
      { record: 12.9, score: 86 },
      { record: 13.0, score: 85 },
      { record: 13.1, score: 84 },
      { record: 13.2, score: 83 },
      { record: 13.3, score: 82 },
      { record: 13.4, score: 81 },
      { record: 13.5, score: 80 },
      { record: 13.6, score: 79 },
      { record: 13.7, score: 78 },
      { record: 13.8, score: 77 },
      { record: 13.9, score: 76 },
      { record: 13.9, score: 75 },
    ],
    female: [
      { record: 13.6, score: 100 },
      { record: 13.7, score: 99 },
      { record: 13.8, score: 98 },
      { record: 13.9, score: 97 },
      { record: 14.0, score: 96 },
      { record: 14.1, score: 95 },
      { record: 14.2, score: 94 },
      { record: 14.3, score: 93 },
      { record: 14.4, score: 92 },
      { record: 14.5, score: 91 },
      { record: 14.6, score: 90 },
      { record: 14.7, score: 89 },
      { record: 14.8, score: 88 },
      { record: 14.9, score: 87 },
      { record: 15.0, score: 86 },
      { record: 15.1, score: 85 },
      { record: 15.2, score: 84 },
      { record: 15.3, score: 83 },
      { record: 15.4, score: 82 },
      { record: 15.5, score: 81 },
      { record: 15.6, score: 80 },
      { record: 15.7, score: 79 },
      { record: 15.8, score: 78 },
      { record: 15.9, score: 77 },
      { record: 16.0, score: 76 },
      { record: 16.0, score: 75 },
    ],
  },
  pfFlex: {
    higherIsBetter: true,
    male: [
      { record: 30, score: 100 },
      { record: 29, score: 99 },
      { record: 28, score: 98 },
      { record: 27, score: 97 },
      { record: 26, score: 96 },
      { record: 25, score: 95 },
      { record: 24, score: 94 },
      { record: 23, score: 93 },
      { record: 22, score: 92 },
      { record: 21, score: 91 },
      { record: 20, score: 90 },
      { record: 19, score: 89 },
      { record: 18, score: 88 },
      { record: 17, score: 87 },
      { record: 16, score: 86 },
      { record: 15, score: 85 },
      { record: 14, score: 84 },
      { record: 13, score: 83 },
      { record: 12, score: 82 },
      { record: 11, score: 81 },
      { record: 10, score: 80 },
      { record: 9, score: 79 },
      { record: 8, score: 78 },
      { record: 7, score: 77 },
      { record: 6, score: 76 },
      { record: 6, score: 75 },
    ],
    female: [
      { record: 32, score: 100 },
      { record: 31, score: 99 },
      { record: 30, score: 98 },
      { record: 29, score: 97 },
      { record: 28, score: 96 },
      { record: 27, score: 95 },
      { record: 26, score: 94 },
      { record: 25, score: 93 },
      { record: 24, score: 92 },
      { record: 23, score: 91 },
      { record: 22, score: 90 },
      { record: 21, score: 89 },
      { record: 20, score: 88 },
      { record: 19, score: 87 },
      { record: 18, score: 86 },
      { record: 17, score: 85 },
      { record: 16, score: 84 },
      { record: 15, score: 83 },
      { record: 14, score: 82 },
      { record: 13, score: 81 },
      { record: 12, score: 80 },
      { record: 11, score: 79 },
      { record: 10, score: 78 },
      { record: 9, score: 77 },
      { record: 8, score: 76 },
      { record: 8, score: 75 },
    ],
  },
  pfThrow: {
    higherIsBetter: true,
    male: [
      { record: 43, score: 100 },
      { record: 42, score: 99 },
      { record: 41, score: 98 },
      { record: 40, score: 97 },
      { record: 39, score: 96 },
      { record: 38, score: 95 },
      { record: 37, score: 94 },
      { record: 36, score: 93 },
      { record: 35, score: 92 },
      { record: 34, score: 91 },
      { record: 33, score: 90 },
      { record: 32, score: 89 },
      { record: 31, score: 88 },
      { record: 30, score: 87 },
      { record: 29, score: 86 },
      { record: 28, score: 85 },
      { record: 27, score: 84 },
      { record: 26, score: 83 },
      { record: 25, score: 82 },
      { record: 24, score: 81 },
      { record: 23, score: 80 },
      { record: 22, score: 79 },
      { record: 21, score: 78 },
      { record: 20, score: 77 },
      { record: 19, score: 76 },
      { record: 19, score: 75 },
    ],
    female: [
      { record: 30, score: 100 },
      { record: 29, score: 99 },
      { record: 28, score: 98 },
      { record: 27, score: 97 },
      { record: 26, score: 96 },
      { record: 25, score: 95 },
      { record: 24, score: 94 },
      { record: 23, score: 93 },
      { record: 22, score: 92 },
      { record: 21, score: 91 },
      { record: 20, score: 90 },
      { record: 19, score: 89 },
      { record: 18, score: 88 },
      { record: 17, score: 87 },
      { record: 16, score: 86 },
      { record: 15, score: 85 },
      { record: 14, score: 84 },
      { record: 13, score: 83 },
      { record: 12, score: 82 },
      { record: 11, score: 81 },
      { record: 10, score: 80 },
      { record: 9, score: 79 },
      { record: 8, score: 78 },
      { record: 7, score: 77 },
      { record: 6, score: 76 },
      { record: 6, score: 75 },
    ],
  },
  pfBack: {
    higherIsBetter: true,
    male: [
      { record: 220, score: 100 },
      { record: 215, score: 99 },
      { record: 210, score: 98 },
      { record: 205, score: 97 },
      { record: 200, score: 96 },
      { record: 195, score: 95 },
      { record: 190, score: 94 },
      { record: 185, score: 93 },
      { record: 180, score: 92 },
      { record: 175, score: 91 },
      { record: 170, score: 90 },
      { record: 165, score: 89 },
      { record: 160, score: 88 },
      { record: 155, score: 87 },
      { record: 150, score: 86 },
      { record: 145, score: 85 },
      { record: 140, score: 84 },
      { record: 135, score: 83 },
      { record: 130, score: 82 },
      { record: 125, score: 81 },
      { record: 120, score: 80 },
      { record: 115, score: 79 },
      { record: 110, score: 78 },
      { record: 105, score: 77 },
      { record: 100, score: 76 },
      { record: 100, score: 75 },
    ],
    female: [
      { record: 160, score: 100 },
      { record: 155, score: 99 },
      { record: 150, score: 98 },
      { record: 145, score: 97 },
      { record: 140, score: 96 },
      { record: 135, score: 95 },
      { record: 130, score: 94 },
      { record: 125, score: 93 },
      { record: 120, score: 92 },
      { record: 115, score: 91 },
      { record: 110, score: 90 },
      { record: 105, score: 89 },
      { record: 100, score: 88 },
      { record: 95, score: 87 },
      { record: 90, score: 86 },
      { record: 85, score: 85 },
      { record: 80, score: 84 },
      { record: 75, score: 83 },
      { record: 70, score: 82 },
      { record: 65, score: 81 },
      { record: 60, score: 80 },
      { record: 55, score: 79 },
      { record: 50, score: 78 },
      { record: 45, score: 77 },
      { record: 40, score: 76 },
      { record: 40, score: 75 },
    ],
  },
  pfShuttle10: {
    higherIsBetter: false,
    male: [
      { record: 7.5, score: 100 },
      { record: 7.6, score: 99 },
      { record: 7.7, score: 98 },
      { record: 7.8, score: 97 },
      { record: 7.9, score: 96 },
      { record: 8.0, score: 95 },
      { record: 8.1, score: 94 },
      { record: 8.2, score: 93 },
      { record: 8.3, score: 92 },
      { record: 8.4, score: 91 },
      { record: 8.5, score: 90 },
      { record: 8.6, score: 89 },
      { record: 8.7, score: 88 },
      { record: 8.8, score: 87 },
      { record: 8.9, score: 86 },
      { record: 9.0, score: 85 },
      { record: 9.1, score: 84 },
      { record: 9.2, score: 83 },
      { record: 9.3, score: 82 },
      { record: 9.4, score: 81 },
      { record: 9.5, score: 80 },
      { record: 9.6, score: 79 },
      { record: 9.7, score: 78 },
      { record: 9.8, score: 77 },
      { record: 9.9, score: 76 },
      { record: 9.9, score: 75 },
    ],
    female: [
      { record: 8.5, score: 100 },
      { record: 8.6, score: 99 },
      { record: 8.7, score: 98 },
      { record: 8.8, score: 97 },
      { record: 8.9, score: 96 },
      { record: 9.0, score: 95 },
      { record: 9.1, score: 94 },
      { record: 9.2, score: 93 },
      { record: 9.3, score: 92 },
      { record: 9.4, score: 91 },
      { record: 9.5, score: 90 },
      { record: 9.6, score: 89 },
      { record: 9.7, score: 88 },
      { record: 9.8, score: 87 },
      { record: 9.9, score: 86 },
      { record: 10.0, score: 85 },
      { record: 10.1, score: 84 },
      { record: 10.2, score: 83 },
      { record: 10.3, score: 82 },
      { record: 10.4, score: 81 },
      { record: 10.5, score: 80 },
      { record: 10.6, score: 79 },
      { record: 10.7, score: 78 },
      { record: 10.8, score: 77 },
      { record: 10.9, score: 76 },
      { record: 10.9, score: 75 },
    ],
  },
  pfShuttle20: {
    higherIsBetter: false,
    male: [
      { record: 14.0, score: 100 },
      { record: 14.1, score: 99 },
      { record: 14.2, score: 98 },
      { record: 14.3, score: 97 },
      { record: 14.4, score: 96 },
      { record: 14.5, score: 95 },
      { record: 14.6, score: 94 },
      { record: 14.7, score: 93 },
      { record: 14.8, score: 92 },
      { record: 14.9, score: 91 },
      { record: 15.0, score: 90 },
      { record: 15.1, score: 89 },
      { record: 15.2, score: 88 },
      { record: 15.3, score: 87 },
      { record: 15.4, score: 86 },
      { record: 15.5, score: 85 },
      { record: 15.6, score: 84 },
      { record: 15.7, score: 83 },
      { record: 15.8, score: 82 },
      { record: 15.9, score: 81 },
      { record: 16.0, score: 80 },
      { record: 16.1, score: 79 },
      { record: 16.2, score: 78 },
      { record: 16.3, score: 77 },
      { record: 16.4, score: 76 },
      { record: 16.4, score: 75 },
    ],
    female: [
      { record: 15.5, score: 100 },
      { record: 15.6, score: 99 },
      { record: 15.7, score: 98 },
      { record: 15.8, score: 97 },
      { record: 15.9, score: 96 },
      { record: 16.0, score: 95 },
      { record: 16.1, score: 94 },
      { record: 16.2, score: 93 },
      { record: 16.3, score: 92 },
      { record: 16.4, score: 91 },
      { record: 16.5, score: 90 },
      { record: 16.6, score: 89 },
      { record: 16.7, score: 88 },
      { record: 16.8, score: 87 },
      { record: 16.9, score: 86 },
      { record: 17.0, score: 85 },
      { record: 17.1, score: 84 },
      { record: 17.2, score: 83 },
      { record: 17.3, score: 82 },
      { record: 17.4, score: 81 },
      { record: 17.5, score: 80 },
      { record: 17.6, score: 79 },
      { record: 17.7, score: 78 },
      { record: 17.8, score: 77 },
      { record: 17.9, score: 76 },
      { record: 17.9, score: 75 },
    ],
  },
};
